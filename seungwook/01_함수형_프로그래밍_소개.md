# 함수형 프로그래밍 소개

## 함수형 프로그래밍 이란?

함수형 프로그래밍은 프로그램 패러다임중 하나로 주로 추상 함수에 기반을 두고 있으며 선언적 스타일로 무엇을 해결할 것인가에 초점을 맞춘 `선언형 접근 방식`이다.

이는 어떻게 해결할 것인가를 고민하는 `명령형 접근 방식`과 상반되는 방식이다.

### 명령형

명령형 프로그래밍에서는 어떻게 할 것인지 명시적으로 지시한다. 여기서는 for 루프를 사용하여 각 단계를 명시적으로 수행한다.

```java
List<Integer> evenNumbers = new ArrayList<>();
for (Integer number : numbers) {
    if (number % 2 == 0) {
        evenNumbers.add(number);
    }
}
int sum = 0;
for (Integer number : evenNumbers) {
    sum += number;
}
```

### 선언형

선언형 프로그래밍에서는 무엇을 할 것인지를 명시한다. 스트림 API와 람다 표현식을 사용하여 각 단계가 간결하고 추상화된다.

```java
int sum = numbers.stream()
                 .filter(number -> number % 2 == 0)
                 .mapToInt(Integer::intValue)
                 .sum();
```



## 함수형 프로그래밍의 주요 개념

### 순수 함수

* 동일한 입력에 대해 항상 동일한 출력을 반환.
* 외부 상태를 변경하지 않음(부작용이 없음).

### 불변성

* 데이터는 불변적이며, 한 번 생성된 데이터는 변경되지 않음.
* 데이터를 변경하려면 새로운 데이터 구조를 생성.

### 일급 함수와 고차 함수

* 일급 함수는 함수가 일급 객체로 다루어져, 변수에 할당되거나, 인자로 전달되거나, 반환 값으로 사용될 수 있는 함수를 말한다.
* 고차 함수는 함수를 인자로 받거나 함수를 반환하는 함수이다.

### 함수 합성

* 순수 함수를 결합하여 더 복잡한 표현식을 만들어낼 수 있다.
* 함수를 가능한 한 작고 명확하게 만들 수 있어서 재사용하기가 더 쉬워진다.

### 커링

커링은 여러 인자를 받는 함수를, 하나의 인자만 받는 여러 함수들의 체인으로 변환하는 기법이다. 즉, 각 단계마다 하나의 인자를 받아 새로운 함수를 반환한다.

```java
public class CurryingAddition {
    public static void main(String[] args) {
        // curriedAdd는 커링된 함수이다
        Function<Integer, Function<Integer, Integer>> curriedAdd = a -> b -> a + b;

        // 첫 번째 인자 5를 적용
        Function<Integer, Integer> add5 = curriedAdd.apply(5);

        // 두 번째 인자 3을 적용하여 최종 결과 얻기
        int result = add5.apply(3);

        System.out.println(result); // 출력 8
    }
}
```

* curriedAdd는 Integer를 인수로 받고 Function<Integer, Integer> 함수가 반환한다.
* add5 함수는 Integer를 인수로 받고 Integer를 반환한다.

### 부분 적용 함수 애플리케이션

기존 함수의 인수 중 일부만 제공하여 새로운 함수를 생성하는 과정을 말한다. 이는 종종 커링과 혼동되지만 부분 적용된 함수에 대한 호출은 결과를 반환하며 커링 체인의 또 다른 함수를 반환하지 않는다.

부분 적용 함수는 여러 인자를 받는 함수에 일부 인자를 미리 적용하여 새로운 함수를 만드는 기법이다. 이 새로운 함수는 나머지 인자만 받는다.

```java
// 커링
f(a, b, c) -> f(a)(b)(c)

// 부분 적용 함수
f(a, b, c) -> g(b, c)
```

* 부분 적용 함수는 g 라는 함수를 만들어 일부 인자를 미리 적용하는 기법이다.


### 느긋한 계산법

표현식의 계산을 그 결과가 필요한 시점까지 지연시키는 계산 전략으로, 표현식을 어떻게 생성하는지와 해당 표현식을 언제 사용하는지에 대한 문제를 분리하는 개념이다.

자바를 포함한 많은 비함수형 언어는 주로 문법에 엄격하고, 즉시 연산을 수행하는 특징을 가지고 있다.

표현식과 그 결과물에 차이가 없다면 결과에 영향을 주지 않고 연산을 지연시킬 수 있다.

11장에서 어떻게 느긋한 접근방식을 달성할 수 있었는지에 대해서 알아보자


